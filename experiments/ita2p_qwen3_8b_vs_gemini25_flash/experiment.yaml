schema_version: 1
name: ita2p_qwen3_8b_vs_gemini25_flash
kind: rollout_eval
description: 2-player IteratedTwoThirdsAverage baseline (Qwen3-8B vs Gemini-2.5-Flash) via UniAPI (OpenAI-compatible endpoint).
tags: ["eval", "rollout", "IteratedTwoThirdsAverage", "2p", "uniapi", "baseline"]

repro:
  seed: 0
  python: ">=3.10,<3.13"

spec:
  env_id: "IteratedTwoThirdsAverage-v0"
  # Optional overrides for the env constructor. Keep small to reduce cost/latency.
  env_kwargs: {"num_rounds": 5}
  # Optional: run instance tag. If set, it will change the run_id hash (useful for repeated runs).
  run_tag: null
  num_players: 2
  episodes: 50
  agents:
    - "openai:qwen3-8b"
    - "openai:gemini-2.5-flash"
  system_prompt: >-
    You are playing a numeric guessing game.
    Output ONLY your guess as a single bracketed number like [42.0].
    No extra words, no explanation.
  # Use mindgames/.env (OPENAI_BASE_URL / OPENAI_API_KEY) by default.
  openai_base_url: null
  openai_api_key: null
  timeout_s: null

commands:
  - >-
    python tools/rollout/run_rollouts.py
    --env-id {spec.env_id}
    {optsh:--env-kwargs spec.env_kwargs}
    --num-players {spec.num_players}
    --episodes {spec.episodes}
    --seed {repro.seed}
    {agent_flags}
    --system-prompt {sh:spec.system_prompt}
    {opt:--openai-base-url spec.openai_base_url}
    {opt:--openai-api-key spec.openai_api_key}
    {opt:--timeout spec.timeout_s}
    --episode-json-dir {run_dir}/episodes
    --out {run_dir}/rollouts.jsonl
  - >-
    python tools/rollout/summarize_rollouts.py {run_dir}/rollouts.jsonl
    --json > {run_dir}/summary.json

outputs:
  files:
    - "{run_dir}/rollouts.jsonl"
    - "{run_dir}/summary.json"
